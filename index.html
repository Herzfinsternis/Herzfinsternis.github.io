<!DOCTYPE html>
<html>
  <head>
    <title>applusext test 4</title>
  </head>
  <body>
    <span id="DOKUMENT">C:\Temp\test_doc.txt</span>
    <script>
      const DOKUMENT = document.getElementById("DOKUMENT");
      DOKUMENT.onclick = dokumentOpen;
      
      async function dokumentOpen() {
        window.open("applusext:" + base64enc(DOKUMENT.innerHTML));
      }
      
      function base64enc(txt) {
        let ret = btoa(txt);
        // btoa uses "+", "/" and "="
        // replace with "-", "*" and "_" to avoid urlencoding
        ret = ret.replace("+", "-").replace("/", "*").replace("=", "_");
        return ret;
      }
    </script>
  </body>
</html>
